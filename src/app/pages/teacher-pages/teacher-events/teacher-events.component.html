<div *ngIf="!chosenClass" class="d-flex justify-content-center w-100"> <span class="alert alert-info">choose a class !!
  </span> </div>
<div [ngClass]="{'hiddenCalendar':!chosenClass}" class=" calendarCard card card-primary">
  <div *ngIf="clicktoEdit" class="clickAlert {{allEvents.length==0?'clickAlertNoEv':''}}">
    <div  class="alert alert-info {{allEvents.length!=0?'alert-info':'alert-warning'}}   ">
      {{allEvents.length!=0?'click an event':'there is no event to edit'}}
    </div>
    </div>
  <div *ngIf="clicktodelete" class="clickAlert {{allEvents.length==0?'clickAlertNoEv':''}}">
    <div  class="alert alert-info {{allEvents.length!=0?'alert-info':'alert-warning'}}   ">
      {{allEvents.length!=0?'click an event':'there is no event to delete'}}
    </div>
  </div>
  <div class="card-header">
    <h4>{{calendarTitle}}</h4>
    <div class="card-header-action2">
      <!--<a (click)="addevent()" class="btn preventunselect" [ngClass]="{'btn-primary':!dateselected,'btn-info':dateselected}" ><span>add Event</span></a>-->
      <a (click)="changetype()" class="btn btn-primary">
        <span>type :{{islistview?'List':'Calendar'}}</span>
      </a>
      <a (click)="nextView()" class="btn btn-primary">
        <span>View :{{viewType==0?'Month':viewType==1?'Week':'Day'}}</span>
      </a>
      <div class="btn-group">
        <a (click)="navigate(1)" class="btn btn-primary"><span><i class="material-icons">chevron_left</i></span></a>
        <a (click)="navigate(-1)" class="btn btn-primary"><span>Today</span></a>
        <a (click)="navigate(2)" class="btn btn-primary"><span><i class="material-icons">chevron_right</i></span></a>
      </div>
      <div class="dropdown preventunselect">
        <div (click)="ShowDD()" class="iconBtn">
          <div class="iconBtnBack ">
            <a class="col-dark-gray waves-effect">
              <i class="material-icons">more_vert</i>
            </a>
          </div>
        </div>
        <div [ngClass]="{'showDD':showDD}" class="dropdown-menu dropdown-menu-right" #moreDD>
          <a (click)="addevent()" class="dropdown-item has-icon col-black"><i class="fas fa-plus"></i>add
            event</a>
          <a (click)="editEvent()" class="dropdown-item has-icon col-black"><i class="far fa-edit"></i>
            Edit</a>
          <div class="dropdown-divider"></div>
          <a (click)="showDeleteModal()" class="dropdown-item has-icon text-danger"><i class="far fa-trash-alt"></i>
            Delete</a>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <full-calendar id="calendar" [options]="calendarOptions" #calendar></full-calendar>
  </div>
</div>
<div [ngClass]="{'showModal':modelShowen,'fadeModel':fadeModel}" class="modal" id="modal">
  <div class="modal-dialog " role="document" #modalDialog>
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="formModal">{{addnotEditEvent?'Add Event':'Edit Event'}}</h5>
        <button type="button" class="close" (click)="closeModel()">
          <span>&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form class="">
          <div *ngIf="dateIsSelected&&addnotEditEvent" class="d-flex justify-content-center">
            <div class="alert alert-primary alert-has-icon p-1 px-3">
              <div class="alert-icon"><i class="far fa-lightbulb"></i></div>
              <span class="mt-1">you can slect a date then click add event</span>
            </div>
          </div>
          <div class="form-group mb-2">
            <label class="mb-1">Event : </label>
            <input name="event" [(ngModel)]="form.event" type="text" class="form-control" placeholder="My Event">
          </div>
          <div class="form-group mb-2">
            <label class="mb-1">From : </label>
            <input name="startDate" [(ngModel)]="form.startDate" type="date" class="form-control">
            <input name="startTime" [(ngModel)]="form.startTime" type="time" class="form-control">
          </div>
          <div class="form-group mb-3">
            <label class="mb-1">To : </label>
            <input name="endDate" [(ngModel)]="form.endDate" type="date" class="form-control">
            <input name="endTime" [(ngModel)]="form.endTime" type="time" class="form-control">
          </div>
          <div class="row gutters-xs d-flex justify-content-center ">
            <div class="col-auto">
              <label class="colorinput">
                <input [(ngModel)]="colorInput" name="color" type="radio" value="#007bff" class="colorinput-input" />
                <span class="colorinput-color bg-primary"></span>
              </label>
            </div>
            <div class="col-auto">
              <label class="colorinput">
                <input [(ngModel)]="colorInput" name="color" type="radio" value="#dc3545" class="colorinput-input" />
                <span class="colorinput-color bg-danger"></span>
              </label>
            </div>
            <div class="col-auto">
              <label class="colorinput">
                <input [(ngModel)]="colorInput" name="color" type="radio" value="#28a745" class="colorinput-input" />
                <span class="colorinput-color bg-success"></span>
              </label>
            </div>
            <div class="col-auto">
							<label class="colorinput">
								<input [(ngModel)]="colorInput" name="color" type="radio" value="#ffc107"
									class="colorinput-input" />
								<span class="colorinput-color bg-warning"></span>
							</label>
						</div>
          </div>
          <div class="d-flex align-items-center justify-content-center">
            <button (click)="submitModal()" type="button"
              class="btn btn-primary m-t-15 waves-effect ">{{addnotEditEvent?'Add Event':'Edit Event'}}</button>
          </div> <!-- FIXME addnotEditEvent -->
        </form>
      </div>
    </div>
  </div>
</div>
<div [ngClass]="{'showModal':modelShowenDelete,'fadeModel':fadeModelDelete}" class="modal" id="modal">
  <div class="modal-dialog " role="document" #modalDialogDelete>
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="formModal">Delete Event</h5>
        <button type="button" class="close" (click)="closeModelDelete()">
          <span>&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form class="">
          <div class="form-group">
            <div class="input-group">
              <select class="custom-select" [ngClass]="{'border-danger':eventToDelete!=='-1'}"
                [(ngModel)]="eventToDelete" #DeleteSelect="ngModel" name="DeleteSelect">
                <option value="-1">click select then click an event or choose from this list </option>
                <option *ngFor="let event of allEvents" [ngValue]="event.id">"{{event.title}}"
                  from:{{datepipe.transform(event.start,'dd-MM-yyyy HH:mm')}}
                  to:{{datepipe.transform(event.end,'dd-MM-yyyy HH:mm')}}</option>
              </select>
              <div class="input-group-append">
                <button (click)="DeleteEvent(eventToDelete==='-1')"
                  class="btn {{eventToDelete==='-1'?'btn-primary':'btn-danger'}}"
                  type="button">{{eventToDelete==='-1'?'Select':'Delete'}}</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>